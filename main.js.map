{"version":3,"file":"main.js","mappings":"MASAA,eAAeC,EAAkBC,GAC7B,MAAMC,EAAM,uFAAuFD,oPAC7FE,QAXVJ,eAAwBG,GACpB,MAAME,QAAiBC,MAAMH,GAC7B,IAAKE,EAASE,GACV,MAAM,IAAIC,MAAMH,EAASI,QAG7B,aADmBJ,EAASK,MAEhC,CAI8BC,CAASR,GAC7BS,EAAUR,EAAYS,iBACtB,kBAAEC,GAAsBV,GACxB,KACFW,EAAI,SACJC,EAAQ,WACRC,EACAC,UAAWC,EACXC,UAAWC,GACXP,EASJ,MARuB,CACnBF,UACAK,aACAF,OACAI,YACAH,WACAK,YAGR,CAEA,SAASC,EAAyBC,GAAyC,IAAhCC,IAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAASG,IAAKH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAC9D,MAAMI,EAAeC,SAASC,cAAc,cACtCC,EAAaF,SAASC,cAAc,YACpCE,EAAUH,SAASC,cAAc,SACjCG,EAAeJ,SAASC,cAAc,eACtCI,EAAcL,SAASC,cAAc,aACrCK,EAAUN,SAASC,cAAc,SAEvCF,EAAaQ,UAAYd,EAAQN,WACjCe,EAAWK,UAAYd,EAAQX,QAC/BqB,EAAQI,UAAYd,EAAQR,KAC5BmB,EAAaG,UAAY,eAAed,EAAQJ,YAChDgB,EAAYE,UAAY,aAAad,EAAQP,YAC7CoB,EAAQC,UAAY,SAASd,EAAQF,aAAaO,EAAQ,MAAQ,QAElE,MACMU,EAAad,EAAY,IAAM,IAC/Be,EAAgBT,SAASU,cAAc,OAC7CD,EAAcE,UAAUC,IAAI,eAC5BH,EAAcF,UAJK,IAIoBC,EACvCL,EAAQU,YAAYJ,EAAcK,WAAU,IAC5CV,EAAaS,YAAYJ,EAAcK,WAAU,IAEjD,MAAMC,EAAYtB,EAAQN,WAAW6B,cACrC,IAAIC,EAAW,GACXF,EAAUG,SAAS,QACnBD,EAAW,QACJF,EAAUG,SAAS,aAC1BD,EAAW,mBACJF,EAAUG,SAAS,UAC1BD,EAAW,SACJF,EAAUG,SAAS,YAC1BD,EAAW,WACJF,EAAUG,SAAS,SAC1BD,EAAW,QACJF,EAAUG,SAAS,UAC1BD,EAAW,SAEfjB,SAASmB,KAAKR,UAAY,GAC1BX,SAASmB,KAAKR,UAAUC,IAAIK,EAChC,CAEA,MAAMG,EAAYpB,SAASC,cAAc,SACzCmB,EAAUC,MAAQ,SAClBlD,EAAkB,UAAUmD,MAAM7B,IAC9BD,EAAyBC,EAAQ,IAGZO,SAASC,cAAc,sBAC/BsB,iBAAiB,SAASrD,UACvCsD,EAAEC,iBACF,MAAMrD,EAAOgD,EAAUC,MACvB,IAEI7B,QADsBrB,EAAkBC,GAE5C,CAAE,MAAOsD,GACL,MAAMC,EAAY3B,SAASC,cAAc,cACzC0B,EAAUhB,UAAUC,IAAI,WACxBQ,EAAUT,UAAUC,IAAI,SACD,MAAlBc,EAAME,QACPD,EAAUpB,UAAY,gCAEtBoB,EAAUpB,UAAYmB,EAAME,OAEpC,KAGJR,EAAUG,iBAAiB,SAAS,KAChC,MAAMI,EAAY3B,SAASC,cAAc,cACzCmB,EAAUT,UAAUkB,OAAO,SAC3BF,EAAUhB,UAAUkB,OAAO,UAAU,G","sources":["webpack:///./index.js"],"sourcesContent":["async function loadJson(url) {\n    const response = await fetch(url);\n    if (!response.ok) {\n        throw new Error(response.status);\n    }\n    const json = await response.json();\n    return json;\n}\n\nasync function getCurrentWeather(city) {\n    const url = `https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${city}?unitGroup=metric&elements=datetime%2CdatetimeEpoch%2CresolvedAddress%2Ctemp%2Cfeelslike%2Chumidity%2Cwindspeed%2Cuvindex%2Cconditions%2Cdescription%2Cicon&include=remote%2Cobs%2Ccurrent%2Cfcst&key=T3K39GSEC83MWTCTJQVNUSYSN&contentType=json`;\n    const weatherJson = await loadJson(url);\n    const address = weatherJson.resolvedAddress;\n    const { currentConditions } = weatherJson;\n    const {\n        temp,\n        humidity,\n        conditions,\n        feelslike: feelsLike,\n        windspeed: windSpeed,\n    } = currentConditions;\n    const currentWeather = {\n        address,\n        conditions,\n        temp,\n        feelsLike,\n        humidity,\n        windSpeed,\n    };\n    return currentWeather;\n}\n\nfunction updateWeatherInfoDisplay(weather, isCelsius = true, isKPH = true) {\n    const conditionDiv = document.querySelector('.condition');\n    const addressDiv = document.querySelector('.address');\n    const tempDiv = document.querySelector('.temp');\n    const fellsLikeDiv = document.querySelector('.feels-like');\n    const humidityDiv = document.querySelector('.humidity');\n    const windDiv = document.querySelector('.wind');\n\n    conditionDiv.innerText = weather.conditions;\n    addressDiv.innerText = weather.address;\n    tempDiv.innerText = weather.temp;\n    fellsLikeDiv.innerText = `FEELS LIKE: ${weather.feelsLike}`;\n    humidityDiv.innerText = `HUMIDITY: ${weather.humidity}%`;\n    windDiv.innerText = `WIND: ${weather.windSpeed} ${isKPH ? 'KPH' : 'MPH'}`;\n\n    const tempSymbol = 'Â°';\n    const tempLetter = isCelsius ? 'C' : 'F';\n    const tempSymbolSup = document.createElement('sup');\n    tempSymbolSup.classList.add('temp-symbol');\n    tempSymbolSup.innerText = tempSymbol + tempLetter;\n    tempDiv.appendChild(tempSymbolSup.cloneNode(true));\n    fellsLikeDiv.appendChild(tempSymbolSup.cloneNode(true));\n\n    const condition = weather.conditions.toLowerCase();\n    let cssClass = '';\n    if (condition.includes('rain')) {\n        cssClass = 'rainy';\n    } else if (condition.includes('partially')) {\n        cssClass = 'partially-cloudy';\n    } else if (condition.includes('cloudy')) {\n        cssClass = 'cloudy';\n    } else if (condition.includes('overcast')) {\n        cssClass = 'overcast';\n    } else if (condition.includes('clear')) {\n        cssClass = 'sunny';\n    } else if (condition.includes('snow')) {\n        cssClass = 'snowy';\n    }\n    document.body.classList = [];\n    document.body.classList.add(cssClass);\n}\n\nconst cityInput = document.querySelector('#city');\ncityInput.value = 'Tehran';\ngetCurrentWeather('tehran').then((weather) => {\n    updateWeatherInfoDisplay(weather);\n});\n\nconst submitCityButton = document.querySelector('button.submit-city');\nsubmitCityButton.addEventListener('click', async (e) => {\n    e.preventDefault();\n    const city = cityInput.value;\n    try {\n        const weather = await getCurrentWeather(city);\n        updateWeatherInfoDisplay(weather);\n    } catch (error) {\n        const errorSpan = document.querySelector('span.error');\n        errorSpan.classList.add('visible');\n        cityInput.classList.add('error');\n        if (+error.message === 400) {\n            errorSpan.innerText = 'City info is not available :(';\n        } else {\n            errorSpan.innerText = error.message;\n        }\n    }\n});\n\ncityInput.addEventListener('input', () => {\n    const errorSpan = document.querySelector('span.error');\n    cityInput.classList.remove('error');\n    errorSpan.classList.remove('visible');\n});\n"],"names":["async","getCurrentWeather","city","url","weatherJson","response","fetch","ok","Error","status","json","loadJson","address","resolvedAddress","currentConditions","temp","humidity","conditions","feelslike","feelsLike","windspeed","windSpeed","updateWeatherInfoDisplay","weather","isCelsius","arguments","length","undefined","isKPH","conditionDiv","document","querySelector","addressDiv","tempDiv","fellsLikeDiv","humidityDiv","windDiv","innerText","tempLetter","tempSymbolSup","createElement","classList","add","appendChild","cloneNode","condition","toLowerCase","cssClass","includes","body","cityInput","value","then","addEventListener","e","preventDefault","error","errorSpan","message","remove"],"sourceRoot":""}